(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{57:function(e,t,c){},68:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var r=c(6),a=c.n(r),n=c(38),s=c.n(n),o=(c(57),c(15)),i=c(33),d=c(16),j=c(12),l=c(28),b=c(0),u=c.n(b),O=c(1),h=c(36),p=c(19),g=c(50),m=c(23),f=Object(g.a)({apiKey:"AIzaSyBFUESXzMJHatvgXZxl80i2lvgerP6mXwY",authDomain:"password-manager-8f21e.firebaseapp.com",projectId:"password-manager-8f21e",storageBucket:"password-manager-8f21e.appspot.com",messagingSenderId:"791009326064",appId:"1:791009326064:web:1b29e1af2ae529686d2335",measurementId:"G-NQ7FGCHQH6"}),x=Object(p.d)(f),v=Object(m.b)(),w=Object(h.b)("users/getRecords",function(){var e=Object(O.a)(u.a.mark((function e(t,c){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(p.c)(x,"users",t),Object(p.e)(r,(function(e){c.dispatch(F(e.data()))}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),y=Object(h.c)({name:"manager",initialState:{records:[],loginFormError:"",regFormError:"",isRegistrated:!1,isLogedIn:!1,loginIsAlreadyExist:!1,invalidLogin:!1,invalidPassword:!1,isRegFormError:!1},reducers:{registration:function(e,t){var c=t.payload;Object(m.a)(v,c.email,c.password).then((function(t){var r=t.user;e.isRegFormError=!1,localStorage.setItem("user",JSON.stringify({uid:r.uid,email:r.email,password:c.password})),Object(p.f)(Object(p.c)(x,"users",r.uid),{id:r.uid,email:r.email,password:c.password,records:[]})})).catch((function(e){console.log(e.message)}))},login:function(e,t){var c=t.payload;Object(m.d)(v,c.email,c.password).then((function(e){var t=e.user;localStorage.setItem("user",JSON.stringify({uid:t.uid,email:t.email,password:c.password}))})).catch((function(e){console.log(e.message)}))},logout:function(){localStorage.removeItem("user"),Object(m.e)(v).then((function(){})).catch((function(e){console.log(e)}))},setNewRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:Object(p.b)(t.payload)})},deleteRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:Object(p.a)(t.payload)})},records:function(e,t){e.records=t.payload.records},changeRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:t.payload})},hidePassword:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:t.payload})}}}),N=y.actions,S=N.registration,C=N.login,E=N.logout,k=N.setNewRecord,I=N.deleteRecord,F=N.records,P=N.changeRecord,R=N.hidePassword,J=function(e){return e.manager},L=y.reducer,A=c(8);function H(e){Object(l.c)(J);var t=Object(l.b)(),c=Object(m.b)(),a=Object(o.f)(),n=Object(r.useState)({email:"",password:""}),s=Object(j.a)(n,2),i=s[0],b=s[1];return Object(r.useEffect)((function(){Object(m.c)(c,(function(e){e?(localStorage.getItem("user")&&t(C(JSON.parse(localStorage.getItem("user")))),a.push("/dashboard")):a.push("/")}))})),Object(A.jsx)("div",{className:"wrapper",children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsx)("div",{className:"title",children:Object(A.jsx)("h1",{children:"Sign in"})}),Object(A.jsxs)("form",{className:"form-box",children:[Object(A.jsx)("input",{type:"text",placeholder:"Enter your login",onChange:function(e){return b(Object(d.a)(Object(d.a)({},i),{},{email:e.target.value}))}}),Object(A.jsx)("input",{type:"password",placeholder:"Enter your password",onChange:function(e){return b(Object(d.a)(Object(d.a)({},i),{},{password:e.target.value}))}}),Object(A.jsx)("button",{type:"button",onClick:function(){t(C(i))},children:"Sign in"}),Object(A.jsx)("button",{className:"link",onClick:function(){return a.push("/registration-page")},children:"Haven't an account, just register"})]})]})})}function M(){Object(l.c)(J);var e=Object(l.b)(),t=Object(o.f)(),c=Object(m.b)(),a=Object(r.useState)({email:"",password:""}),n=Object(j.a)(a,2),s=n[0],i=n[1];return Object(r.useEffect)((function(){Object(m.c)(c,(function(c){c&&(localStorage.getItem("user")&&e(C(JSON.parse(localStorage.getItem("user")))),t.push("/dashboard"))}))})),Object(A.jsx)("div",{className:"wrapper",children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsx)("div",{className:"title",children:Object(A.jsx)("h1",{children:"Registration"})}),Object(A.jsxs)("form",{className:"form-box",children:[Object(A.jsx)("input",{type:"email",placeholder:"Enter your login",onChange:function(e){return i(Object(d.a)(Object(d.a)({},s),{},{email:e.target.value}))}}),Object(A.jsx)("input",{type:"password",placeholder:"Enter your password",onChange:function(e){return i(Object(d.a)(Object(d.a)({},s),{},{password:e.target.value}))}}),Object(A.jsx)("button",{type:"button",onClick:function(t){e(S(s))},children:"Registration"}),Object(A.jsx)("button",{className:"link",onClick:function(){return t.push("/")},children:"If you Have An Account, Just Sign In"})]})]})})}c(68);function U(e){var t="modal-container";return e.openModal&&(t+=" active"),Object(A.jsxs)("div",{className:t,children:[Object(A.jsx)("div",{className:"overlay",onClick:e.onChange}),Object(A.jsxs)("div",{className:"modal",children:[e.addModal,e.addForm,e.changeFeild]})]})}var B=c(41),T=c(42);function X(e){var t=Object(l.c)(J),c=Object(l.b)(),a=Object(m.b)(),n=Object(o.f)(),s=Object(A.jsx)(B.a,{icon:T.c}),i=Object(A.jsx)(B.a,{icon:T.a}),b=Object(A.jsx)(B.a,{icon:T.b}),u=Object(r.useState)(!1),O=Object(j.a)(u,2),h=O[0],p=O[1],g=Object(r.useState)(!1),f=Object(j.a)(g,2),x=f[0],v=f[1],y=Object(r.useState)(!1),N=Object(j.a)(y,2),S=N[0],C=N[1],F=Object(r.useState)(""),L=Object(j.a)(F,2),H=L[0],M=L[1],X=Object(r.useState)({title:"",password:"",email:"",hidePass:!1}),Y=Object(j.a)(X,2),z=Y[0],D=Y[1],G=function(){p(h=!h)};return Object(r.useEffect)((function(){Object(m.c)(a,(function(e){e&&c(w(e.uid))}))}),[]),Object(A.jsxs)("div",{className:"dashboard-container",children:[Object(A.jsxs)("div",{className:"dashboard-header",children:[Object(A.jsx)("h1",{children:"Password List"}),Object(A.jsxs)("nav",{children:[Object(A.jsx)("button",{className:"add",onClick:function(){G(),C(!1)},children:"Add New Record"}),Object(A.jsx)("button",{className:"logout",onClick:function(){c(E()),n.push("/")},children:"Logout"})]})]}),Object(A.jsx)("div",{className:"table-box",children:Object(A.jsxs)("table",{children:[Object(A.jsx)("thead",{className:"table-header",children:Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Services"}),Object(A.jsx)("th",{children:"Email"}),Object(A.jsx)("th",{children:"Password"})]})}),Object(A.jsx)("tbody",{className:"table-body",children:t.records.map((function(e,r){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:e.title}),Object(A.jsx)("td",{children:e.email}),e.hidePass?Object(A.jsx)("td",{children:e.password}):Object(A.jsx)("td",{children:e.password.replace(e.password,"*").repeat(e.password.length)}),Object(A.jsx)("td",{className:"icon",onClick:function(){return c(I(e))},children:s}),Object(A.jsx)("td",{className:"icon",onClick:function(){return function(e,r){v(x=!x);var a={title:r.title,email:r.email,password:r.password,hidePass:x},n=t.records.slice();n.splice(e,1,a),c(R(n))}(r,e)},children:i}),Object(A.jsx)("td",{className:"icon",onClick:function(){return function(e,t){C(!0),G(),M(t)}(0,r)},children:b})]},r)}))})]})}),Object(A.jsx)(r.Fragment,{children:Object(A.jsx)(U,{openModal:h,onChange:G,addForm:Object(A.jsxs)("form",{children:[Object(A.jsx)("input",{type:"text",placeholder:"Enter Password Title",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{title:e.target.value}))}}),Object(A.jsx)("input",{type:"text",placeholder:"Enter Your Email",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{email:e.target.value}))}}),Object(A.jsx)("input",{type:"text",placeholder:"Enter Your Password",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{password:e.target.value}))}}),S?Object(A.jsx)("button",{type:"button",onClick:function(){var e=t.records.slice();e.splice(H,1,z),c(P(e)),G()},children:"Edit record"}):Object(A.jsx)("button",{type:"button",onClick:function(){c(k(z)),G()},children:"Set record"})]})})})]})}var Y=function(){var e=Object(o.f)();return Object(A.jsx)(i.a,{history:e,children:Object(A.jsx)("div",{className:"app-container",children:Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{path:"/registration-page",children:Object(A.jsx)(M,{})}),Object(A.jsx)(o.a,{path:"/dashboard",children:Object(A.jsx)(X,{})}),Object(A.jsx)(o.a,{path:"/",children:Object(A.jsx)(H,{})})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},D=(c(71),Object(h.a)({reducer:{manager:L}}));s.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(l.a,{store:D,children:Object(A.jsx)(Y,{})})}),document.getElementById("root")),z()}},[[72,1,2]]]);
//# sourceMappingURL=main.8490b6b3.chunk.js.map