(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{57:function(e,t,c){},68:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var a=c(6),n=c.n(a),r=c(38),s=c.n(r),o=(c(57),c(15)),i=c(33),d=c(16),j=c(12),l=c(28),b=c(0),u=c.n(b),O=c(1),h=c(36),p=c(19),f=c(50),m=c(23),g=Object(f.a)({apiKey:"AIzaSyBFUESXzMJHatvgXZxl80i2lvgerP6mXwY",authDomain:"password-manager-8f21e.firebaseapp.com",projectId:"password-manager-8f21e",storageBucket:"password-manager-8f21e.appspot.com",messagingSenderId:"791009326064",appId:"1:791009326064:web:1b29e1af2ae529686d2335",measurementId:"G-NQ7FGCHQH6"}),x=Object(p.d)(g),v=Object(m.b)(),w=Object(h.b)("users/getRecords",function(){var e=Object(O.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(p.c)(x,"users",t),Object(p.e)(a,(function(e){c.dispatch(P(e.data()))}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),y=Object(h.c)({name:"manager",initialState:{isRegistrated:!1,isLogedIn:!1,records:[]},reducers:{registration:function(e,t){var c=t.payload;Object(m.a)(v,c.email,c.password).then((function(e){var t=e.user;localStorage.setItem("user",JSON.stringify({uid:t.uid,email:t.email,password:c.password})),Object(p.f)(Object(p.c)(x,"users",t.uid),{id:t.uid,email:t.email,password:c.password,records:[]}),console.log(t)})).catch((function(e){e.code,e.message}))},login:function(e,t){var c=t.payload;Object(m.d)(v,c.email,c.password).then((function(e){var t=e.user;localStorage.setItem("user",JSON.stringify({uid:t.uid,email:t.email,password:c.password}))}))},logout:function(){localStorage.removeItem("user"),Object(m.e)(v).then((function(){})).catch((function(e){console.log(e)}))},setNewRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:Object(p.b)(t.payload)})},deleteRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:Object(p.a)(t.payload)})},records:function(e,t){e.records=t.payload.records},changeRecord:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:t.payload})},hidePassword:function(e,t){var c=Object(p.c)(x,"users",v.currentUser.uid);Object(p.g)(c,{records:t.payload})}}}),N=y.actions,S=N.registration,C=N.login,k=N.logout,I=N.setNewRecord,E=N.deleteRecord,P=N.records,R=N.changeRecord,F=N.hidePassword,J=function(e){return e.manager},H=y.reducer,L=c(8);function M(e){Object(l.c)(J);var t=Object(l.b)(),c=Object(m.b)(),n=Object(o.f)(),r=Object(a.useState)({email:"",password:""}),s=Object(j.a)(r,2),i=s[0],b=s[1];return Object(a.useEffect)((function(){Object(m.c)(c,(function(e){e?(localStorage.getItem("user")&&t(C(JSON.parse(localStorage.getItem("user")))),n.push("/dashboard")):n.push("/")}))})),Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)("div",{className:"box",children:[Object(L.jsx)("div",{className:"title",children:Object(L.jsx)("h1",{children:"Sign in"})}),Object(L.jsxs)("form",{className:"form-box",children:[Object(L.jsx)("input",{type:"text",placeholder:"Enter your login",onChange:function(e){return b(Object(d.a)(Object(d.a)({},i),{},{email:e.target.value}))}}),Object(L.jsx)("input",{type:"password",placeholder:"Enter your password",onChange:function(e){return b(Object(d.a)(Object(d.a)({},i),{},{password:e.target.value}))}}),Object(L.jsx)("button",{type:"button",onClick:function(){t(C(i))},children:"Sign in"}),Object(L.jsx)("button",{className:"link",onClick:function(){return n.push("/registration-page")},children:"Haven't an account, just register"})]})]})})}function U(){Object(l.c)(J);var e=Object(l.b)(),t=Object(o.f)(),c=Object(m.b)(),n=Object(a.useState)({email:"",password:""}),r=Object(j.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){Object(m.c)(c,(function(c){c&&(localStorage.getItem("user")&&e(C(JSON.parse(localStorage.getItem("user")))),t.push("/dashboard"))}))})),Object(L.jsx)("div",{className:"wrapper",children:Object(L.jsxs)("div",{className:"box",children:[Object(L.jsx)("div",{className:"title",children:Object(L.jsx)("h1",{children:"Registration"})}),Object(L.jsxs)("form",{className:"form-box",children:[Object(L.jsx)("input",{type:"email",onChange:function(e){return i(Object(d.a)(Object(d.a)({},s),{},{email:e.target.value}))}}),Object(L.jsx)("input",{type:"password",onChange:function(e){return i(Object(d.a)(Object(d.a)({},s),{},{password:e.target.value}))}}),Object(L.jsx)("button",{type:"button",onClick:function(t){e(S(s))},children:"Registration"}),Object(L.jsx)("button",{className:"link",onClick:function(){return t.push("/")},children:"If you Have An Account, Just Sign In"})]})]})})}c(68);function A(e){var t="modal-container";return e.openModal&&(t+=" active"),Object(L.jsxs)("div",{className:t,children:[Object(L.jsx)("div",{className:"overlay",onClick:e.onChange}),Object(L.jsxs)("div",{className:"modal",children:[e.addModal,e.addForm,e.changeFeild]})]})}var B=c(41),T=c(42);function X(e){var t=Object(l.c)(J),c=Object(l.b)(),n=Object(m.b)(),r=Object(o.f)(),s=Object(L.jsx)(B.a,{icon:T.c}),i=Object(L.jsx)(B.a,{icon:T.a}),b=Object(L.jsx)(B.a,{icon:T.b}),u=Object(a.useState)(!1),O=Object(j.a)(u,2),h=O[0],p=O[1],f=Object(a.useState)(!1),g=Object(j.a)(f,2),x=g[0],v=g[1],y=Object(a.useState)(!1),N=Object(j.a)(y,2),S=N[0],C=N[1],P=Object(a.useState)(""),H=Object(j.a)(P,2),M=H[0],U=H[1],X=Object(a.useState)({title:"",password:"",email:"",hidePass:!1}),Y=Object(j.a)(X,2),z=Y[0],D=Y[1],G=function(){p(h=!h)};return Object(a.useEffect)((function(){Object(m.c)(n,(function(e){e&&c(w(e.uid))}))}),[]),Object(L.jsxs)("div",{className:"dashboard-container",children:[Object(L.jsxs)("div",{className:"dashboard-header",children:[Object(L.jsx)("h1",{children:"Password List"}),Object(L.jsxs)("nav",{children:[Object(L.jsx)("button",{className:"add",onClick:function(){G(),C(!1)},children:"Add New Record"}),Object(L.jsx)("button",{className:"logout",onClick:function(){c(k()),r.push("/")},children:"Logout"})]})]}),Object(L.jsx)("div",{className:"table-box",children:Object(L.jsxs)("table",{children:[Object(L.jsx)("thead",{className:"table-header",children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Services"}),Object(L.jsx)("th",{children:"Email"}),Object(L.jsx)("th",{children:"Password"})]})}),Object(L.jsx)("tbody",{className:"table-body",children:t.records.map((function(e,a){return Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:e.title}),Object(L.jsx)("td",{children:e.email}),e.hidePass?Object(L.jsx)("td",{children:e.password}):Object(L.jsx)("td",{children:e.password.replace(e.password,"*").repeat(e.password.length)}),Object(L.jsx)("td",{className:"icon",onClick:function(){return c(E(e))},children:s}),Object(L.jsx)("td",{className:"icon",onClick:function(){return function(e,a){v(x=!x);var n={title:a.title,email:a.email,password:a.password,hidePass:x},r=t.records.slice();r.splice(e,1,n),c(F(r))}(a,e)},children:i}),Object(L.jsx)("td",{className:"icon",onClick:function(){return function(e,t){C(!0),G(),U(t)}(0,a)},children:b})]},a)}))})]})}),Object(L.jsx)(a.Fragment,{children:Object(L.jsx)(A,{openModal:h,onChange:G,addForm:Object(L.jsxs)("form",{children:[Object(L.jsx)("input",{type:"text",placeholder:"Enter Password Title",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{title:e.target.value}))}}),Object(L.jsx)("input",{type:"text",placeholder:"Enter Your Email",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{email:e.target.value}))}}),Object(L.jsx)("input",{type:"text",placeholder:"Enter Your Password",onChange:function(e){return D(Object(d.a)(Object(d.a)({},z),{},{password:e.target.value}))}}),S?Object(L.jsx)("button",{type:"button",onClick:function(){var e=t.records.slice();e.splice(M,1,z),c(R(e)),G()},children:"Edit record"}):Object(L.jsx)("button",{type:"button",onClick:function(){c(I(z)),G()},children:"Set record"})]})})})]})}var Y=function(){var e=Object(o.f)();return Object(L.jsx)(i.a,{history:e,children:Object(L.jsx)("div",{className:"app-container",children:Object(L.jsxs)(o.c,{children:[Object(L.jsx)(o.a,{path:"/registration-page",children:Object(L.jsx)(U,{})}),Object(L.jsx)(o.a,{path:"/dashboard",children:Object(L.jsx)(X,{})}),Object(L.jsx)(o.a,{path:"/",children:Object(L.jsx)(M,{})})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},D=(c(71),Object(h.a)({reducer:{manager:H}}));s.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(l.a,{store:D,children:Object(L.jsx)(Y,{})})}),document.getElementById("root")),z()}},[[72,1,2]]]);
//# sourceMappingURL=main.618f297e.chunk.js.map